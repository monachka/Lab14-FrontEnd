[{"/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/index.js":"1","/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/App.js":"2","/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/reportWebVitals.js":"3","/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/components/Login.js":"4","/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/constants.js":"5","/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/components/Carlist.js":"6","/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/components/Ownerlist.js":"7","/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/components/SearchCar.js":"8","/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/components/SearchOwner.js":"9","/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/components/EditCar.js":"10","/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/components/AddCar.js":"11","/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/components/AddOwner.js":"12","/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/components/EditOwner.js":"13"},{"size":535,"mtime":1697713845896,"results":"14","hashOfConfig":"15"},{"size":896,"mtime":1698594976838,"results":"16","hashOfConfig":"15"},{"size":362,"mtime":1697713845896,"results":"17","hashOfConfig":"15"},{"size":5415,"mtime":1698675316965,"results":"18","hashOfConfig":"15"},{"size":67,"mtime":1698944480998,"results":"19","hashOfConfig":"15"},{"size":537,"mtime":1698675505923,"results":"20","hashOfConfig":"15"},{"size":547,"mtime":1698675593397,"results":"21","hashOfConfig":"15"},{"size":4850,"mtime":1698819873408,"results":"22","hashOfConfig":"15"},{"size":4760,"mtime":1698678304829,"results":"23","hashOfConfig":"15"},{"size":3626,"mtime":1698013994963,"results":"24","hashOfConfig":"15"},{"size":3308,"mtime":1698073005522,"results":"25","hashOfConfig":"15"},{"size":2303,"mtime":1698129615753,"results":"26","hashOfConfig":"15"},{"size":2473,"mtime":1698129926707,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"hb9so",{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52"},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/index.js",[],[],"/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/App.js",[],[],"/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/reportWebVitals.js",[],[],"/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/components/Login.js",[],[],"/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/constants.js",[],[],"/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/components/Carlist.js",[],[],"/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/components/Ownerlist.js",[],[],"/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/components/SearchCar.js",["68"],[],"import React, { useState, useEffect } from 'react';\n//import CarList from './Carlist'; // Make sure the path to CarList is correct\nimport { SERVER_URL } from '../constants'; // Import your server URL from a constants file\nimport '../App.css';\nimport Snackbar from \"@mui/material/Snackbar\";\nimport { DataGrid } from \"@mui/x-data-grid\";\n//import Button from \"@mui/material/Button\";\nimport AddCar from \"./AddCar.js\";\nimport EditCar from './EditCar.js';\nimport Stack from '@mui/material/Stack';\nimport IconButton from '@mui/material/IconButton';\nimport DeleteIcon from '@mui/icons-material/Delete';\n//import { blue, lightBlue } from \"@mui/material/colors\";\n//import logo from '../logo.svg';\n\n\n\nfunction SearchCar() {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [cars, setCars] = useState([]);\n  const [filteredCars, setFilteredCars] = useState([]);\n  const [open, setOpen] = useState(false);\n\n  const fetchCars = () => {\n    const token = sessionStorage.getItem('jwt');\n    fetch(SERVER_URL + 'api/cars', {\n      headers: { Authorization: token },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        setCars(data._embedded.cars);\n        setFilteredCars(data._embedded.cars); // Initialize filteredCars with all cars\n      })\n      .catch((err) => console.error(err));\n  };\n\n  const addCar = car => {\n    const token = sessionStorage.getItem(\"jwt\");\n    fetch(SERVER_URL + \"api/cars\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\", Authorization: token },\n      body: JSON.stringify(car),\n    }).then((response) => {\n      if (response.ok) {\n        fetchCars();\n      } else {\n        alert(\"Something went wrong !!\");\n      }\n    }).catch(err => console.error(err));\n  };\n\n  const updateCar = (car, link) => {\n    const token = sessionStorage.getItem(\"jwt\");\n    fetch(link, {\n      method: \"PUT\",\n      headers: { \"Content-Type\": \"application/json\", Authorization: token  },\n      body: JSON.stringify(car),\n    }).then((response) => {\n      if (response.ok) {\n        fetchCars();\n      } else {\n        alert(\"Something went wrong !!\");\n      }\n    }).catch(err => console.error(err));\n  };\n\n  const onDelClick = url => {\n    const token = sessionStorage.getItem(\"jwt\");\n    if (window.confirm(\"Are you sure to delete ?\")) {\n      fetch(url, { \n        method: \"DELETE\",\n        headers: {Authorization: token}, \n      })\n        .then((response) => {\n          if (response.ok) {\n            fetchCars();\n            setOpen(true);\n          } else {\n            alert(\"Some thing is wrong !!!!\");\n          }\n        })\n        .catch((Err) => console.error(Err));\n    }\n  };\n  const columns = [\n    { field: \"brand\", headerName: \"Marque\", width: 200 },\n    { field: \"model\", headerName: \"Modèle\", width: 200 },\n    { field: \"color\", headerName: \"Couleur\", width: 200 },\n    { field: \"year\", headerName: \"Année\", width: 150 },\n    { field: \"price\", headerName: \"Prix\", width: 150 },\n    {\n      field: \"_links.car.href\",\n      headerName: \"\",\n      sortable: false,\n      filterable: false,\n      renderCell: row => <EditCar data={row} updateCar={updateCar}/>\n    },\n    {\n      field: \"_links.self.href\",\n      headerName: \"\",\n      sortable: false,\n      filterable: false,\n      renderCell: (row) => (\n        <IconButton variant=\"contained\" color=\"error\" size=\"small\" onClick={() => onDelClick(row.id)}><DeleteIcon color=\"error\"/></IconButton>\n      ),\n    },\n  ];\n\n  const handleSearch = () => {\n    const searchTerm = document.getElementById(\"searchs\").value;\n    setSearchTerm(searchTerm);\n\n    if (searchTerm===''){\n        setFilteredCars(cars);\n    }\n    else{\n        // Filter cars based on the search term\n         const filteredItems = cars.filter((car) =>\n            (car.brand.toLowerCase().includes(searchTerm.toLowerCase()) || car.model.toLowerCase().includes(searchTerm.toLowerCase()))\n        );\n\n        setFilteredCars(filteredItems);\n        setCars(filteredItems);\n    }\n  };\n\n  useEffect(() => {\n    fetchCars();\n  }, []);\n\n\n  return (\n      <React.Fragment>\n      <Stack mt={2} mb={2}>\n        <AddCar addCar={addCar}/>\n      </Stack>\n      <br/>\n      <input\n      id='searchs'\n      className='search'\n        type=\"text\"\n        placeholder=\"Rehercher une voiture par sa Marque ou son Modele\"\n        value={searchTerm}\n        onChange={handleSearch}\n      />\n      <br/><br/><br/>\n      <div style={{ height: 500, width: \"100%\" }}>\n        <DataGrid\n          rows={cars}\n          disableRowSelectionOnClick={true}\n          columns={columns}\n          getRowId={(row) => row._links.self.href}\n        />\n        <Snackbar\n          open={open}\n          autoHideDuration={2000}\n          onClose={() => setOpen(false)}\n          message=\"voiture suprimee\"\n        />\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default SearchCar;","/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/components/SearchOwner.js",[],[],"/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/components/EditCar.js",[],[],"/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/components/AddCar.js",[],[],"/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/components/AddOwner.js",[],[],"/home/mnck/MNCK/Programmes/Semestre5/DevAppN-T/appli_codes/Repos/Lab14/carfront/src/components/EditOwner.js",[],[],{"ruleId":"69","severity":1,"message":"70","line":21,"column":10,"nodeType":"71","messageId":"72","endLine":21,"endColumn":22},"no-unused-vars","'filteredCars' is assigned a value but never used.","Identifier","unusedVar"]